/* Styles spécifiques pour les écrans jusqu'à 768px */

*,
*:before,
*:after {
  box-sizing: border-box;
}

:root {
  --mobile-font-size-base: clamp(10px, 3vw, 12px);
  --mobile-title-size: clamp(16px, 5vw, 22px);
  --mobile-spacing: clamp(8px, 2.5vw, 12px);
}

html, body {
    padding: 0;
    width: 100%;
    height: 100%;
    overflow-x: hidden;
}

.main-board {
    border-radius: 0;
    border: none;
    width: 100%;
    height: 100%;
}

#main-content-wrapper {
    width: 100%;
    height: 100%;
}

.content-section-board {
    padding: var(--mobile-spacing);
}

h1, h2, h3 { font-size: var(--mobile-title-size); }
p { font-size: var(--mobile-font-size-base); }

.card__title {
    font-size: 0.85em;
}
.card__description {
    font-size: 0.75em;
}

.top-bar {
    display: flex;
    flex-wrap: wrap;
    justify-content: space-between;
    align-items: center;
    padding: 8px;
    row-gap: 8px;
    width: 100%;
}
.top-bar-left, .top-bar-right {
    display: contents;
}
.top-bar-center {
    order: 99;
    width: 100%;
}
.time {
    display: none;
}
.top-bar-btn {
    width: clamp(35px, 9vw, 45px);
    height: clamp(35px, 9vw, 45px);
    font-size: clamp(1rem, 4vw, 1.3rem);
    flex-shrink: 0;
}

.search-bar {
    padding: 6px 12px;
    width: 100%;
}
.search-bar input {
    font-size: 1rem;
}

.content-sections-card {
    grid-template-columns: repeat(auto-fill, minmax(130px, 1fr));
    gap: var(--mobile-spacing);
}
.card-inner { height: 180px; }
#titles-cards .card__description, 
#gameplay-cards .card__description, 
#makingofs-cards .card__description, 
#search-results-cards .card__description, 
#liked-titles-cards .card__description, 
#suggestions-cards .card__description {
    display: none;
}
#titles-cards .card__image, 
#gameplay-cards .card__image, 
#makingofs-cards .card__image, 
#search-results-cards .card__image, 
#liked-titles-cards .card__image, 
#suggestions-cards .card__image {
    height: 130px;
}

/* MODIFICATION: Taille des icônes réduite pour le mobile */
.like-btn-card, .add-playlist-btn-card { 
    font-size: 1.1em !important; 
}
.card-actions {
    gap: 15px;
}


/* MODIFICATION: Réduction de l'espacement vertical du lecteur */
#mp3-player-container { padding: 4px 8px; width: 100%; }
.player-controls-wrapper {
    /* CORRECTION: Utilisation d'une grille pour un alignement parfait */
    display: grid;
    grid-template-columns: auto 1fr auto;
    align-items: center;
    gap: 8px;
}
.player-left-controls { grid-column: 1; }
.player-center-controls { grid-column: 2; overflow: hidden; } /* Empêche le titre de déborder */
.player-right-controls { grid-column: 3; }
.player-cover img {
    width: clamp(45px, 12vw, 55px);
    height: clamp(45px, 12vw, 55px);
}
.autoplay-btn { display: none; }
.player-right-controls {
    gap: 15px;
    padding-right: 15px; /* MODIFICATION: Décalage des icônes du bord droit */
    position: relative;
    top: 6px;
}
.player-right-controls > i { font-size: 1.2rem; }

.player-right-controls .volume-control-new,
.player-right-controls #share-btn {
    display: none;
}
#player-more-options-btn {
    display: flex;
}

/* MODIFICATION: Agrandissement léger des boutons du lecteur */
.player-buttons { gap: 10px; }
.controls-box {
    width: clamp(42px, 10.5vw, 48px);
    height: clamp(42px, 10.5vw, 48px);
}
.controls-box i { font-size: 1.3rem; }
.player-buttons > i { font-size: 1.3rem; }
.player-buttons > i.small-btn { font-size: 1.1rem; }
#song-title { font-size: 0.9em; }

/* MODIFICATION: Réduction de l'espacement vertical du footer */
.footer-bar {
    font-size: 0.8em;
    padding: 2px 10px;
}
.footer-center span { display: none; }
.theme-switcher-footer .switch { transform: scale(0.8); }

.about-content { flex-direction: column; align-items: center; text-align: center; }
.about-content p { text-align: justify; }

#music-title-details-section .music-details-grid { grid-template-columns: 1fr; }
#music-title-details-section .music-details-container { flex-direction: column; align-items: center; }
/* MODIFICATION: Centrage du panneau des vidéos associées et de son contenu texte */
#music-title-details-section .associated-videos-panel { justify-self: center; margin: 20px 0; text-align: center; }
#details-album-art { width: 100%; height: auto; max-width: 300px; }
.music-info-panel { width: 100%; text-align: center; }
.music-info-panel p strong { display: block; margin-bottom: 4px; }
.streaming-links-container { justify-content: center; }
/* AJOUT : S'assurer que les tags sont bien centrés */
.tags-container {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 8px;
}
.streaming-links-container a { font-size: 2rem; }

/* CORRECTION: Amélioration du positionnement et du centrage du guide sur mobile */
#tutorial-box {
    width: 90%;
    left: 50%;
    transform: translateX(-50%);
}
#tutorial-box.pos-top {
    top: 70px;
    bottom: auto;
}
#tutorial-box.pos-bottom {
    bottom: 80px;
    top: auto;
}
#tutorial-box.pos-center {
    top: 50%;
    transform: translate(-50%, -50%);
}


#player-options-overlay .settings-card {
    position: fixed;
    bottom: 0;
    left: 0;
    right: 0;
    width: 100%;
    max-width: 100%;
    border-radius: 20px 20px 0 0;
    margin: 0;
    transform: translateY(100%);
    transition: transform 0.3s ease-out;
}
#player-options-overlay:not(.hidden) .settings-card {
    transform: translateY(0);
}
#player-options-overlay .setting-item i {
    font-size: 1.5rem;
}
#player-options-overlay .autoplay-btn {
    display: block;
}

/* MODIFICATION: Amélioration de l'affichage de l'overlay des succès */
#achievements-overlay .settings-card {
    padding: 15px;
    max-height: 90vh; /* CORRECTION: Empêche le dépassement sur les écrans plus hauts */
    display: flex;
    flex-direction: column;
    box-sizing: border-box;
}
#achievements-overlay .coin-counter h3 { font-size: 1em; }
#achievements-overlay .coin-counter p { font-size: 1.5em; }
#achievements-list {
    flex-grow: 1; 
    overflow-y: auto; 
    margin-bottom: 10px;
}
#achievements-overlay .achievement-details h4 { font-size: 0.9em; }
#achievements-overlay .achievement-details p { font-size: 0.75em; }
#achievements-overlay .achievement-icon { font-size: 1.8em; }
/* MODIFICATION: Ajustement de la section cheat code pour les petits écrans */
.cheat-code-section {
    flex-shrink: 0;
}
#cheat-code-input {
    min-width: 0; /* Permet à l'input de se réduire correctement */
}


@media (orientation: landscape) and (max-height: 500px) {
    .top-bar {
        padding: 2px 8px;
    }
    .bottom-ui-container {
        padding-top: 2px;
    }
    #mp3-player-container {
        padding: 2px 8px;
    }
    .footer-bar {
        padding: 0 8px 2px 8px;
    }
    /* MODIFICATION: Styles pour les succès en mode paysage */
    #achievements-overlay .settings-card {
        padding: 10px;
        height: 95vh;
        display: flex; /* Ajout pour la structure */
        flex-direction: column; /* Ajout pour la structure */
    }
    #achievements-overlay .coin-counter {
        margin-bottom: 5px;
        padding-bottom: 5px;
    }
    #achievements-list {
        flex-grow: 1; /* Ajout pour que la liste prenne l'espace */
        overflow-y: auto; /* Ajout pour le défilement */
        margin-bottom: 5px;
    }
    #achievements-overlay .cheat-code-section {
        margin-top: 5px;
        padding-top: 5px;
        flex-shrink: 0; /* Ajout pour garder la section en bas */
    }
}

/* CORRECTION: Positionnement du texte sur les cartes d'album à débloquer */
.card.locked .card__description {
    position: absolute;
    bottom: 10px;
    left: 50%;
    transform: translateX(-50%);
    width: 100%;
    padding: 0 10px;
}

/* CORRECTION: Optimisation de l'animation de fond pour mobile */
.circles li:nth-child(2),
.circles li:nth-child(5),
.circles li:nth-child(7),
.circles li:nth-child(8),
.circles li:nth-child(9) {
    display: none; /* On cache la moitié des bulles */
}

/* On réduit la taille des bulles restantes */
.circles li:nth-child(1) { width: 40px; height: 40px; }
.circles li:nth-child(3) { width: 15px; height: 15px; }
.circles li:nth-child(4) { width: 35px; height: 35px; }
.circles li:nth-child(6) { width: 60px; height: 60px; }
.circles li:nth-child(10) { width: 80px; height: 80px; }
